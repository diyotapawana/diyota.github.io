<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Night Shift</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
        /* --- RESET & BASIC STYLES --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body, html {
            height: 100%;
            width: 100%;
            font-family: 'Outfit', sans-serif;
            background-color: #050505;
            color: #ffffff;
            overflow: hidden; 
        }

        /* --- PRELOADER SECTION --- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000000;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        /* Video Styling */
        #intro-video {
            max-width: 90%;
            max-height: 60vh;
            width: auto;
            height: auto;
            object-fit: contain;
            /* Awalnya hidden biar ga ada glitch frame pertama */
            opacity: 0; 
            transition: opacity 0.5s ease;
        }

        /* Class helper */
        .loader-hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .video-visible {
            opacity: 1 !important;
        }

        /* --- MAIN CONTENT --- */
        #main-content {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1.5s ease, transform 1.5s ease;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: radial-gradient(circle at 80% 20%, #1a1a2e 0%, #000000 70%);
            overflow-x: hidden;
        }

        #main-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        nav {
            padding: 2rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-weight: 700;
            font-size: 1.5rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(255,255,255,0.3);
        }

        .hero {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
        }

        h1 {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(to bottom, #ffffff, #666666);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        p {
            font-size: 1.2rem;
            color: #888;
            margin-bottom: 3rem;
            max-width: 600px;
            line-height: 1.6;
        }

        .btn-main {
            padding: 1.2rem 3rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.03);
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-decoration: none;
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
            border-radius: 4px;
        }

        .btn-main:hover {
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.15);
        }

        footer {
            text-align: center;
            padding: 2rem;
            font-size: 0.75rem;
            color: #333;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.8rem; }
        }
    </style>
</head>
<body>

    <!-- PRELOADER DENGAN VIDEO -->
    <div id="preloader">
        <!-- 
           PENTING:
           Ganti src di bawah ini dengan link file .mp4 kamu.
           Attributes: 
           - muted: wajib ada biar bisa autoplay di browser modern.
           - playsinline: wajib biar ga fullscreen otomatis di iPhone.
        -->
        <video id="intro-video" muted playsinline>
            <source src="https://v.ftcdn.net/05/63/69/89/700_F_563698944_C77B8A04-C433-4B8A-894C-383790264177.mp4" type="video/mp4">
            Browser kamu tidak support video tag.
        </video>
    </div>

    <!-- KONTEN UTAMA -->
    <div id="main-content">
        <nav>
            <div class="logo">Night Shift</div>
            <div style="font-size: 0.8rem; color: #444;">V.2.0</div>
        </nav>

        <section class="hero">
            <h1>Speed &<br>Precision.</h1>
            <p>UI Modern dengan intro video playback yang dikontrol oleh Javascript.<br>Lebih smooth, lebih cepat, lebih mewah.</p>
            <a href="#" class="btn-main">Explore Now</a>
        </section>

        <footer>
            Night Shift UI &copy; 2024
        </footer>
    </div>

    <script>
        // CONFIGURATION SPEED
        const PLAYBACK_SPEED = 2.0; // Set ke 2.0x lebih cepat (Normal = 1.0)
        
        const video = document.getElementById('intro-video');
        const preloader = document.getElementById('preloader');
        const content = document.getElementById('main-content');
        const body = document.body;
        let videoEnded = false;
        let pageLoaded = false;

        // Fungsi Transisi Masuk
        function enterSite() {
            // Hanya masuk jika video selesai ATAU page sudah load (mana yang terakhir)
            // Di sini kita prioritaskan video selesai dulu minimal 1x loop
            if (videoEnded && pageLoaded) {
                preloader.classList.add('loader-hidden');
                content.classList.add('visible');
                body.style.overflow = 'auto';
                
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 800);
            }
        }

        // Setup Video
        video.playbackRate = PLAYBACK_SPEED; // Apply speed
        
        // Agar transisi smooth, munculkan video setelah mulai play
        video.addEventListener('play', () => {
            video.classList.add('video-visible');
        });

        // Event: Ketika video selesai diputar 1x
        video.addEventListener('ended', () => {
            console.log("Video selesai 1 putaran");
            if (pageLoaded) {
                videoEnded = true;
                enterSite();
            } else {
                // Jika page belum load, loop videonya
                video.currentTime = 0;
                video.play();
            }
        });

        // Paksa play video
        video.play().catch(e => {
            console.log("Autoplay dicegah browser, user interaction required.");
            // Fallback text atau tombol play manual bisa ditaruh disini jika perlu
        });

        // Event: Page selesai loading aset
        window.addEventListener('load', () => {
            console.log("Halaman selesai loading");
            pageLoaded = true;
            // Cek apakah video sedang playing?
            // Kita biarkan video menyelesaikan putarannya dulu (logic ada di 'ended')
            // Kecuali jika video error, kita paksa masuk.
        });

        // Safety timeout (jika video error/koneksi video putus) - 10 detik
        setTimeout(() => {
            videoEnded = true;
            pageLoaded = true;
            enterSite();
        }, 10000);

    </script>
</body>
</html>
